
<link rel="stylesheet" href="/styles/loader.css" />

<body>
    <div class="modal fade" id="progressModal">
      <div class="modal-content">
        <h3>Creating Your Repository...</h3>
        <ul class="progress-steps">
          <li id="step1">
            <div class="status-indicator">
              <div class="spinner"></div>
              <svg
                class="checkmark"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 52 52"
              >
                <circle
                  class="checkmark-circle"
                  cx="26"
                  cy="26"
                  r="25"
                  fill="none"
                />
                <path
                  class="checkmark-check"
                  fill="none"
                  d="M14.1 27.2l7.1 7.2 16.7-16.8"
                />
              </svg>
            </div>
            Making connection...
          </li>
          <li id="step2">
            <div class="status-indicator">
              <div class="spinner"></div>
              <svg
                class="checkmark"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 52 52"
              >
                <circle
                  class="checkmark-circle"
                  cx="26"
                  cy="26"
                  r="25"
                  fill="none"
                />
                <path
                  class="checkmark-check"
                  fill="none"
                  d="M14.1 27.2l7.1 7.2 16.7-16.8"
                />
              </svg>
            </div>
            Generating the files...
          </li>
          <li id="step3">
            <div class="status-indicator">
              <div class="spinner"></div>
              <svg
                class="checkmark"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 52 52"
              >
                <circle
                  class="checkmark-circle"
                  cx="26"
                  cy="26"
                  r="25"
                  fill="none"
                />
                <path
                  class="checkmark-check"
                  fill="none"
                  d="M14.1 27.2l7.1 7.2 16.7-16.8"
                />
              </svg>
            </div>
            Uploading the files...
          </li>
        </ul>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const commitForm = document.getElementById("commitForm");
        const progressModal = document.getElementById("progressModal");

        const step1 = document.getElementById("step1");
        const step2 = document.getElementById("step2");
        const step3 = document.getElementById("step3");

        commitForm.addEventListener("submit", function (e) {
          e.preventDefault();

          progressModal.classList.add("show");

          step1.classList.remove("completed");
          step2.classList.remove("completed");
          step3.classList.remove("completed");

          simulateProgress();
        });

        function simulateProgress() {
          setTimeout(() => {
            step1.classList.add("completed");

            setTimeout(() => {
              step2.classList.add("completed");

              setTimeout(() => {
                step3.classList.add("completed");

                setTimeout(() => {
                  commitForm.submit();
                }, 2000); // 0.5 second pause before submitting
              }, 5000); // 1s
            }, 5000); // 2s
          }, 1500); // 1.5s
        }
      });
    </script>
  </body>